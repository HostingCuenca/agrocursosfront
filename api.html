<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriCourses API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #2E8B57, #228B22);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .nav h3 {
            margin-bottom: 1rem;
            color: #2E8B57;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav a {
            color: #666;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .nav a:hover, .nav a.active {
            background: #2E8B57;
            color: white;
        }

        .section {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #2E8B57;
            border-bottom: 3px solid #2E8B57;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .endpoint {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .endpoint-header {
            padding: 1rem 1.5rem;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .method {
            font-weight: bold;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            color: white;
            font-size: 0.9rem;
        }

        .method.get { background: #28a745; }
        .method.post { background: #007bff; }
        .method.put { background: #ffc107; color: #212529; }
        .method.delete { background: #dc3545; }

        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .endpoint-body {
            padding: 1.5rem;
        }

        .endpoint-description {
            margin-bottom: 1.5rem;
            color: #666;
        }

        .params-section {
            margin-bottom: 1.5rem;
        }

        .params-section h4 {
            color: #495057;
            margin-bottom: 0.8rem;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 0.3rem;
        }

        .param {
            margin-bottom: 0.8rem;
            padding: 0.8rem;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #2E8B57;
        }

        .param-name {
            font-weight: bold;
            color: #2E8B57;
            font-family: 'Courier New', monospace;
        }

        .param-type {
            color: #6c757d;
            font-size: 0.9rem;
            margin-left: 0.5rem;
        }

        .param-required {
            color: #dc3545;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 0.5rem;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .auth-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .auth-info strong {
            color: #856404;
        }

        .response-example {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .role-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 0.5rem;
        }

        .role-student { background: #cce5ff; color: #004085; }
        .role-instructor { background: #fff3cd; color: #856404; }
        .role-admin { background: #f8d7da; color: #721c24; }
        .role-public { background: #d1ecf1; color: #0c5460; }
        .role-authenticated { background: #e2e3e5; color: #383d41; }

        .toc {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .toc h3 {
            color: #2E8B57;
            margin-bottom: 1rem;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 0.5rem;
        }

        .toc a {
            color: #666;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .toc a:hover {
            color: #2E8B57;
        }

        .error-codes {
            background: #f8f9fa;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .error-codes h5 {
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .error-codes ul {
            margin-left: 1rem;
        }

        .curl-example {
            background: #212529;
            color: #f8f9fa;
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .curl-example .comment {
            color: #6c757d;
        }

        .status-info {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .flow-diagram {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
        }

        .flow-step {
            display: inline-block;
            background: #2E8B57;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin: 0.5rem;
            font-size: 0.9rem;
        }

        .flow-arrow {
            display: inline-block;
            margin: 0 0.5rem;
            color: #6c757d;
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .nav ul {
                flex-direction: column;
            }

            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üåæ AgriCourses API</h1>
        <p>Documentaci√≥n completa de la API REST para la plataforma de cursos agr√≠colas</p>
        <p><strong>Versi√≥n:</strong> 1.0.0 | <strong>Puerto:</strong> 3010 | <strong>Base URL:</strong> http://localhost:3010</p>
    </div>

    <!-- Navegaci√≥n -->
    <div class="nav">
        <h3>üìã Navegaci√≥n R√°pida</h3>
        <ul>
            <li><a href="#overview">üîç Informaci√≥n General</a></li>
            <li><a href="#authentication">üîê Autenticaci√≥n</a></li>
            <li><a href="#auth-endpoints">üë§ Auth</a></li>
            <li><a href="#course-endpoints">üìö Cursos</a></li>
            <li><a href="#module-endpoints">üìñ M√≥dulos</a></li>
            <li><a href="#class-endpoints">üéì Clases</a></li>
            <li><a href="#assignment-endpoints">üìù Asignaciones</a></li>
            <li><a href="#enrollment-endpoints">üìã Inscripciones</a></li>
            <li><a href="#progress-endpoints">üìä Progreso</a></li>
            <li><a href="#certificate-endpoints">üèÜ Certificados</a></li>
            <li><a href="#virtual-class-endpoints">üíª Clases Virtuales</a></li>
            <li><a href="#error-codes">‚ö†Ô∏è Errores</a></li>
        </ul>
    </div>

    <!-- Informaci√≥n General -->
    <section id="overview" class="section">
        <h2>üîç Informaci√≥n General</h2>

        <div class="status-info">
            <strong>‚úÖ Estado del API:</strong> Completamente funcional y testeado
        </div>

        <h3>üèóÔ∏è Arquitectura T√©cnica</h3>
        <ul>
            <li><strong>Framework:</strong> Express.js con Node.js</li>
            <li><strong>Base de Datos:</strong> PostgreSQL con connection pooling</li>
            <li><strong>Autenticaci√≥n:</strong> JWT (JSON Web Tokens) con expiraci√≥n de 7 d√≠as</li>
            <li><strong>Validaci√≥n:</strong> express-validator para validaci√≥n de entrada</li>
            <li><strong>Seguridad:</strong> helmet, cors, express-rate-limit, morgan para logging</li>
            <li><strong>Gesti√≥n de UUIDs:</strong> uuid_generate_v4() para IDs √∫nicos</li>
        </ul>

        <h3>üë• Sistema de Roles</h3>
        <div class="param">
            <span class="role-badge role-student">STUDENT</span>
            Estudiantes que pueden inscribirse en cursos, completar clases, realizar ex√°menes
        </div>
        <div class="param">
            <span class="role-badge role-instructor">INSTRUCTOR</span>
            Instructores que crean y gestionan cursos, m√≥dulos, clases, asignaciones
        </div>
        <div class="param">
            <span class="role-badge role-admin">ADMIN</span>
            Administradores con acceso completo a todos los recursos y estad√≠sticas
        </div>
        <div class="param">
            <span class="role-badge role-public">PUBLIC</span>
            Endpoints p√∫blicos accesibles sin autenticaci√≥n
        </div>

        <h3>üè• Endpoints de Salud del Sistema</h3>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/health</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Verifica el estado general del servidor y conectividad de la base de datos.</p>
                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "status": "OK",
                        "database": "Connected",
                        "timestamp": "2025-08-26T00:00:00.000Z",
                        "environment": "development",
                        "port": "3010"
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/test-db</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Prueba detallada de la conexi√≥n a PostgreSQL con informaci√≥n del esquema.</p>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/test</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Endpoint de prueba simple para verificar que la API responde correctamente.</p>
            </div>
        </div>

        <h3>üìä Flujo de Trabajo T√≠pico</h3>
        <div class="flow-diagram">
            <div class="flow-step">Registro/Login</div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-step">Crear/Buscar Cursos</div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-step">Inscripci√≥n</div>
            <br><br>
            <div class="flow-step">Completar Clases</div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-step">Realizar Ex√°menes</div>
            <span class="flow-arrow">‚Üí</span>
            <div class="flow-step">Obtener Certificado</div>
        </div>
    </section>

    <!-- Autenticaci√≥n -->
    <section id="authentication" class="section">
        <h2>üîê Sistema de Autenticaci√≥n</h2>

        <div class="auth-info">
            <strong>‚ö†Ô∏è Importante:</strong> La mayor√≠a de endpoints requieren autenticaci√≥n JWT. El token debe incluirse en el header Authorization.
        </div>

        <h3>üìã Configuraci√≥n de Headers</h3>
        <div class="code-block">Content-Type: application/json
            Authorization: Bearer {JWT_TOKEN}</div>

        <h3>üîë Estructura del Token JWT</h3>
        <div class="code-block">{
            "userId": "b504d424-442b-4cf5-b727-685081f6f313",
            "email": "usuario@example.com",
            "role": "student|instructor|admin",
            "iat": 1756150552,
            "exp": 1756755352
            }</div>

        <h3>‚è∞ Configuraci√≥n de Tiempo</h3>
        <ul>
            <li><strong>Expiraci√≥n:</strong> 7 d√≠as desde la emisi√≥n</li>
            <li><strong>Renovaci√≥n:</strong> Requiere nuevo login despu√©s de expiraci√≥n</li>
            <li><strong>Validaci√≥n:</strong> Cada request valida token contra base de datos</li>
        </ul>

        <h3>üõ°Ô∏è Middleware de Seguridad</h3>
        <ul>
            <li><code>authenticateToken</code>: Valida JWT y establece req.user</li>
            <li><code>requireRole(['roles'])</code>: Verifica permisos espec√≠ficos por rol</li>
            <li><code>optionalAuth</code>: Autenticaci√≥n opcional para endpoints h√≠bridos</li>
            <li><code>requireInstructorOrAdmin</code>: Shortcut para permisos elevados</li>
        </ul>

        <div class="curl-example">
            <span class="comment"># Ejemplo de request autenticado</span>
            curl -X GET "http://localhost:3010/api/auth/profile" \
            -H "Content-Type: application/json" \
            -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        </div>
    </section>

    <!-- Endpoints de Autenticaci√≥n -->
    <section id="auth-endpoints" class="section">
        <h2>üë§ Endpoints de Autenticaci√≥n</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/auth/register</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Registra un nuevo usuario en el sistema con validaci√≥n completa.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">first_name</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Nombre del usuario (max 100 caracteres)
                    </div>
                    <div class="param">
                        <span class="param-name">last_name</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Apellido del usuario (max 100 caracteres)
                    </div>
                    <div class="param">
                        <span class="param-name">email</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Email √∫nico v√°lido del usuario
                    </div>
                    <div class="param">
                        <span class="param-name">password</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Contrase√±a (m√≠nimo 6 caracteres)
                    </div>
                    <div class="param">
                        <span class="param-name">role</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Rol: 'student', 'instructor', 'admin' (default: 'student')
                    </div>
                    <div class="param">
                        <span class="param-name">phone</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>N√∫mero de tel√©fono
                    </div>
                    <div class="param">
                        <span class="param-name">country</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Pa√≠s de residencia
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Registro de usuario estudiante</span>
                    curl -X POST "http://localhost:3010/api/auth/register" \
                    -H "Content-Type: application/json" \
                    -d '{
                    "first_name": "Juan",
                    "last_name": "P√©rez",
                    "email": "juan@example.com",
                    "password": "123456",
                    "role": "student",
                    "phone": "+1234567890",
                    "country": "M√©xico"
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Usuario registrado exitosamente",
                        "user": {
                        "id": "b504d424-442b-4cf5-b727-685081f6f313",
                        "email": "juan@example.com",
                        "first_name": "Juan",
                        "last_name": "P√©rez",
                        "role": "student",
                        "is_active": true,
                        "email_verified": false,
                        "created_at": "2025-08-26T00:00:00.000Z"
                        },
                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/auth/login</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Autentica usuario con email y contrase√±a, devuelve JWT token.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">email</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Email del usuario registrado
                    </div>
                    <div class="param">
                        <span class="param-name">password</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Contrase√±a del usuario
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Login de usuario</span>
                    curl -X POST "http://localhost:3010/api/auth/login" \
                    -H "Content-Type: application/json" \
                    -d '{
                    "email": "juan@example.com",
                    "password": "123456"
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Inicio de sesi√≥n exitoso",
                        "user": {
                        "id": "b504d424-442b-4cf5-b727-685081f6f313",
                        "email": "juan@example.com",
                        "first_name": "Juan",
                        "last_name": "P√©rez",
                        "role": "student",
                        "is_active": true
                        },
                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/auth/profile</span>
                <span class="role-badge role-authenticated">AUTHENTICATED</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Obtiene el perfil completo del usuario autenticado.</p>

                <div class="auth-info">
                    <strong>üîê Requiere:</strong> JWT token v√°lido en header Authorization
                </div>

                <div class="curl-example">
                    <span class="comment"># Obtener perfil del usuario autenticado</span>
                    curl -X GET "http://localhost:3010/api/auth/profile" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "user": {
                        "id": "b504d424-442b-4cf5-b727-685081f6f313",
                        "email": "juan@example.com",
                        "first_name": "Juan",
                        "last_name": "P√©rez",
                        "phone": "+1234567890",
                        "country": "M√©xico",
                        "specialization": null,
                        "bio": null,
                        "role": "student",
                        "is_active": true,
                        "email_verified": false,
                        "created_at": "2025-08-26T00:00:00.000Z",
                        "updated_at": "2025-08-26T00:00:00.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Cursos -->
    <section id="course-endpoints" class="section">
        <h2>üìö Endpoints de Cursos</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/courses</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Lista todos los cursos publicados con paginaci√≥n, filtros y b√∫squeda avanzada.</p>

                <div class="params-section">
                    <h4>üîç Query Parameters</h4>
                    <div class="param">
                        <span class="param-name">page</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>N√∫mero de p√°gina (default: 1, min: 1)
                    </div>
                    <div class="param">
                        <span class="param-name">limit</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Elementos por p√°gina (default: 10, max: 50)
                    </div>
                    <div class="param">
                        <span class="param-name">category</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Filtrar por categor√≠a espec√≠fica
                    </div>
                    <div class="param">
                        <span class="param-name">difficulty_level</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Filtrar por nivel: 'B√°sico', 'Intermedio', 'Avanzado'
                    </div>
                    <div class="param">
                        <span class="param-name">search</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>B√∫squeda en t√≠tulo y descripci√≥n
                    </div>
                    <div class="param">
                        <span class="param-name">instructor_id</span>
                        <span class="param-type">uuid</span>
                        <span class="param-required">optional</span>
                        <br>Filtrar por instructor espec√≠fico
                    </div>
                    <div class="param">
                        <span class="param-name">min_price</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Precio m√≠nimo de filtro
                    </div>
                    <div class="param">
                        <span class="param-name">max_price</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Precio m√°ximo de filtro
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Listar cursos con filtros</span>
                    curl -X GET "http://localhost:3010/api/courses?page=1&limit=5&category=agricultura&difficulty_level=Intermedio&search=sostenible"
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "courses": [
                        {
                        "id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "Agricultura Sostenible Moderna",
                        "description": "Curso completo sobre t√©cnicas modernas de agricultura sostenible",
                        "thumbnail": null,
                        "instructor_name": "Test Instructor",
                        "price": "99.99",
                        "currency": "USD",
                        "category": "agricultura",
                        "difficulty_level": "Intermedio",
                        "duration_hours": 40,
                        "language": "es",
                        "is_published": true,
                        "created_at": "2025-08-26T00:44:47.000Z"
                        }
                        ],
                        "pagination": {
                        "current_page": 1,
                        "total_pages": 1,
                        "total_items": 1,
                        "items_per_page": 5
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/courses/{id}</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Obtiene informaci√≥n completa de un curso espec√≠fico incluyendo m√≥dulos.</p>

                <div class="params-section">
                    <h4>üõ§Ô∏è URL Parameters</h4>
                    <div class="param">
                        <span class="param-name">id</span>
                        <span class="param-type">uuid</span>
                        <span class="param-required">required</span>
                        <br>UUID √∫nico del curso
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Obtener curso espec√≠fico</span>
                    curl -X GET "http://localhost:3010/api/courses/6da30409-f5f3-4687-a737-05ba38ce6c80"
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/courses</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Crea un nuevo curso. Solo instructores y administradores pueden crear cursos.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">title</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>T√≠tulo del curso (max 255 caracteres)
                    </div>
                    <div class="param">
                        <span class="param-name">description</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Descripci√≥n detallada del curso
                    </div>
                    <div class="param">
                        <span class="param-name">category</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Categor√≠a del curso (ej: agricultura, ganader√≠a, etc.)
                    </div>
                    <div class="param">
                        <span class="param-name">difficulty_level</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Nivel de dificultad: 'B√°sico', 'Intermedio', 'Avanzado'
                    </div>
                    <div class="param">
                        <span class="param-name">duration_hours</span>
                        <span class="param-type">number</span>
                        <span class="param-required">required</span>
                        <br>Duraci√≥n estimada en horas
                    </div>
                    <div class="param">
                        <span class="param-name">price</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Precio del curso (default: 0 para curso gratuito)
                    </div>
                    <div class="param">
                        <span class="param-name">currency</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Moneda del precio (default: 'USD')
                    </div>
                    <div class="param">
                        <span class="param-name">is_published</span>
                        <span class="param-type">boolean</span>
                        <span class="param-required">optional</span>
                        <br>¬øEst√° publicado p√∫blicamente? (default: false)
                    </div>
                    <div class="param">
                        <span class="param-name">language</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Idioma del curso (default: 'es')
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Crear nuevo curso como instructor</span>
                    curl -X POST "http://localhost:3010/api/courses" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "title": "Agricultura Org√°nica Moderna",
                    "description": "Aprende t√©cnicas modernas de agricultura org√°nica sostenible",
                    "category": "agricultura",
                    "difficulty_level": "Intermedio",
                    "duration_hours": 40,
                    "price": 99.99,
                    "currency": "USD",
                    "is_published": true,
                    "language": "es"
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Curso creado exitosamente",
                        "course": {
                        "id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "Agricultura Org√°nica Moderna",
                        "description": "Aprende t√©cnicas modernas de agricultura org√°nica sostenible",
                        "instructor_id": "d7f29c39-f1d2-4688-91af-b5588f0c137b",
                        "price": "99.99",
                        "currency": "USD",
                        "is_published": true,
                        "category": "agricultura",
                        "difficulty_level": "Intermedio",
                        "duration_hours": 40,
                        "language": "es",
                        "created_at": "2025-08-26T00:44:47.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-url">/api/courses/{id}</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Actualiza un curso existente. Solo el instructor propietario o administrador puede editarlo.</p>

                <div class="auth-info">
                    <strong>üîê Permisos:</strong> Solo el instructor que cre√≥ el curso o un administrador pueden editarlo.
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method delete">DELETE</span>
                <span class="endpoint-url">/api/courses/{id}</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Elimina un curso y todos sus datos relacionados (m√≥dulos, clases, inscripciones). Operaci√≥n irreversible.</p>

                <div class="auth-info">
                    <strong>‚ö†Ô∏è Cuidado:</strong> Elimina permanentemente el curso y todos sus datos relacionados.
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de M√≥dulos -->
    <section id="module-endpoints" class="section">
        <h2>üìñ Endpoints de M√≥dulos</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/modules/courses/{courseId}/modules</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Obtiene todos los m√≥dulos publicados de un curso espec√≠fico ordenados por secuencia.</p>

                <div class="curl-example">
                    <span class="comment"># Listar m√≥dulos de un curso</span>
                    curl -X GET "http://localhost:3010/api/modules/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/modules"
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/modules/courses/{courseId}/modules</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Crea un nuevo m√≥dulo dentro de un curso espec√≠fico.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">title</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>T√≠tulo descriptivo del m√≥dulo
                    </div>
                    <div class="param">
                        <span class="param-name">description</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Descripci√≥n detallada del contenido del m√≥dulo
                    </div>
                    <div class="param">
                        <span class="param-name">order_sequence</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Orden del m√≥dulo (auto-asignado si no se especifica)
                    </div>
                    <div class="param">
                        <span class="param-name">is_published</span>
                        <span class="param-type">boolean</span>
                        <span class="param-required">optional</span>
                        <br>¬øEst√° publicado? (default: false)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Crear nuevo m√≥dulo</span>
                    curl -X POST "http://localhost:3010/api/modules/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/modules" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "title": "M√≥dulo 1: Fundamentos de Agricultura Org√°nica",
                    "description": "Conceptos b√°sicos y principios fundamentales",
                    "order_sequence": 1,
                    "is_published": true
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "M√≥dulo creado exitosamente",
                        "module": {
                        "id": "8fd7c1ef-287b-4a82-a473-9aee1aaa1e7e",
                        "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "M√≥dulo 1: Fundamentos de Agricultura Org√°nica",
                        "description": "Conceptos b√°sicos y principios fundamentales",
                        "order_sequence": 1,
                        "is_published": true,
                        "created_at": "2025-08-26T00:45:15.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-url">/api/modules/courses/{courseId}/modules/reorder</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Reordena los m√≥dulos de un curso espec√≠fico actualizando su secuencia.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">moduleOrders</span>
                        <span class="param-type">array</span>
                        <span class="param-required">required</span>
                        <br>Array de objetos con id del m√≥dulo y nuevo order_sequence
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Reordenar m√≥dulos de un curso</span>
                    curl -X PUT "http://localhost:3010/api/modules/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/modules/reorder" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "moduleOrders": [
                    { "id": "8fd7c1ef-287b-4a82-a473-9aee1aaa1e7e", "order_sequence": 1 },
                    { "id": "uuid-module-2", "order_sequence": 2 },
                    { "id": "uuid-module-3", "order_sequence": 3 }
                    ]
                    }'
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Clases -->
    <section id="class-endpoints" class="section">
        <h2>üéì Endpoints de Clases</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/classes/modules/{moduleId}/classes</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Lista todas las clases publicadas de un m√≥dulo espec√≠fico ordenadas por secuencia.</p>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/classes/modules/{moduleId}/classes</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Crea una nueva clase dentro de un m√≥dulo espec√≠fico con soporte para diferentes tipos de contenido.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">title</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>T√≠tulo descriptivo de la clase
                    </div>
                    <div class="param">
                        <span class="param-name">description</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Descripci√≥n detallada del contenido
                    </div>
                    <div class="param">
                        <span class="param-name">type</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Tipo de clase: 'video', 'text', 'quiz', 'assignment' (default: 'video')
                    </div>
                    <div class="param">
                        <span class="param-name">content_url</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>URL del contenido multimedia (YouTube, Vimeo, archivo, etc.)
                    </div>
                    <div class="param">
                        <span class="param-name">content_text</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Contenido de texto para clases te√≥ricas
                    </div>
                    <div class="param">
                        <span class="param-name">duration_minutes</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Duraci√≥n estimada en minutos (default: 0)
                    </div>
                    <div class="param">
                        <span class="param-name">order_sequence</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Orden de la clase (auto-asignado si no se especifica)
                    </div>
                    <div class="param">
                        <span class="param-name">is_published</span>
                        <span class="param-type">boolean</span>
                        <span class="param-required">optional</span>
                        <br>¬øEst√° publicada? (default: false)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Crear nueva clase de video</span>
                    curl -X POST "http://localhost:3010/api/classes/modules/8fd7c1ef-287b-4a82-a473-9aee1aaa1e7e/classes" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "title": "Clase 1: Introducci√≥n a la Permacultura",
                    "description": "Conceptos b√°sicos de permacultura aplicada en agricultura",
                    "type": "video",
                    "content_url": "https://youtube.com/watch?v=ejemplo123",
                    "duration_minutes": 30,
                    "order_sequence": 1,
                    "is_published": true
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Clase creada exitosamente",
                        "class": {
                        "id": "56e314e1-446d-4a0d-95ac-efd37abb5fd3",
                        "module_id": "8fd7c1ef-287b-4a82-a473-9aee1aaa1e7e",
                        "title": "Clase 1: Introducci√≥n a la Permacultura",
                        "description": "Conceptos b√°sicos de permacultura aplicada en agricultura",
                        "type": "video",
                        "content_url": "https://youtube.com/watch?v=ejemplo123",
                        "duration_minutes": 30,
                        "order_sequence": 1,
                        "is_published": true,
                        "created_at": "2025-08-26T00:45:30.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/classes/{id}/complete</span>
                <span class="role-badge role-student">STUDENT</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Marca una clase espec√≠fica como completada por el estudiante autenticado. Actualiza autom√°ticamente el progreso del curso.</p>

                <div class="auth-info">
                    <strong>üìù Requisitos:</strong>
                    <ul>
                        <li>Usuario debe ser estudiante</li>
                        <li>Debe estar inscrito en el curso que contiene esta clase</li>
                        <li>La clase debe estar publicada</li>
                    </ul>
                </div>

                <div class="curl-example">
                    <span class="comment"># Marcar clase como completada</span>
                    curl -X POST "http://localhost:3010/api/classes/56e314e1-446d-4a0d-95ac-efd37abb5fd3/complete" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Clase marcada como completada",
                        "completion_percentage": 100
                        }</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Asignaciones -->
    <section id="assignment-endpoints" class="section">
        <h2>üìù Endpoints de Asignaciones y Ex√°menes</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/assignments/courses/{courseId}/assignments</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Crea una nueva asignaci√≥n o examen en un curso con soporte para m√∫ltiples tipos de preguntas.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">title</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>T√≠tulo de la asignaci√≥n o examen
                    </div>
                    <div class="param">
                        <span class="param-name">description</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Descripci√≥n e instrucciones de la evaluaci√≥n
                    </div>
                    <div class="param">
                        <span class="param-name">type</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Tipo: 'assignment', 'exam', 'quiz', 'project'
                    </div>
                    <div class="param">
                        <span class="param-name">questions</span>
                        <span class="param-type">array</span>
                        <span class="param-required">required</span>
                        <br>Array de preguntas con estructura: { question, type, options?, correct_answer?, points }
                    </div>
                    <div class="param">
                        <span class="param-name">max_points</span>
                        <span class="param-type">number</span>
                        <span class="param-required">required</span>
                        <br>Puntuaci√≥n m√°xima total posible
                    </div>
                    <div class="param">
                        <span class="param-name">time_limit_minutes</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>L√≠mite de tiempo en minutos (null = sin l√≠mite)
                    </div>
                    <div class="param">
                        <span class="param-name">due_date</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Fecha l√≠mite de entrega (formato ISO 8601)
                    </div>
                    <div class="param">
                        <span class="param-name">is_published</span>
                        <span class="param-type">boolean</span>
                        <span class="param-required">optional</span>
                        <br>¬øEst√° publicado? (default: false)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Crear examen con preguntas mixtas</span>
                    curl -X POST "http://localhost:3010/api/assignments/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/assignments" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "title": "Examen Final - Agricultura Sostenible",
                    "description": "Evaluaci√≥n integral de conocimientos del curso completo",
                    "type": "exam",
                    "max_points": 100,
                    "time_limit_minutes": 90,
                    "is_published": true,
                    "questions": [
                    {
                    "question": "¬øQu√© es la permacultura?",
                    "type": "multiple_choice",
                    "options": [
                    "Un m√©todo de cultivo tradicional",
                    "Un sistema de dise√±o sostenible",
                    "Una t√©cnica de riego espec√≠fica",
                    "Un tipo de fertilizante org√°nico"
                    ],
                    "correct_answer": "Un sistema de dise√±o sostenible",
                    "points": 10
                    },
                    {
                    "question": "Explique los tres principios √©ticos fundamentales de la permacultura y proporcione ejemplos pr√°cticos de cada uno.",
                    "type": "essay",
                    "points": 25
                    }
                    ]
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Asignaci√≥n creada exitosamente",
                        "assignment": {
                        "id": "09672762-c46d-488e-99cc-6685b562f7c7",
                        "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "Examen Final - Agricultura Sostenible",
                        "description": "Evaluaci√≥n integral de conocimientos del curso completo",
                        "type": "exam",
                        "max_points": 100,
                        "time_limit_minutes": 90,
                        "is_published": true,
                        "questions": [...],
                        "created_at": "2025-08-26T00:46:00.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/assignments/{id}/attempt</span>
                <span class="role-badge role-student">STUDENT</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Inicia un nuevo intento de examen para el estudiante autenticado. Crea registro de tiempo y estado.</p>

                <div class="curl-example">
                    <span class="comment"># Iniciar intento de examen</span>
                    curl -X POST "http://localhost:3010/api/assignments/09672762-c46d-488e-99cc-6685b562f7c7/attempt" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Intento de examen iniciado",
                        "attempt": {
                        "id": "uuid-attempt-id",
                        "assignment_id": "09672762-c46d-488e-99cc-6685b562f7c7",
                        "student_id": "b504d424-442b-4cf5-b727-685081f6f313",
                        "started_at": "2025-08-26T01:00:00.000Z",
                        "time_limit_minutes": 90,
                        "status": "in_progress"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/assignments/attempts/{attemptId}/submit</span>
                <span class="role-badge role-student">STUDENT</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Env√≠a las respuestas de un intento de examen y calcula autom√°ticamente la calificaci√≥n.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">answers</span>
                        <span class="param-type">object</span>
                        <span class="param-required">required</span>
                        <br>Objeto con respuestas indexadas por ID de pregunta
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Enviar respuestas del examen</span>
                    curl -X POST "http://localhost:3010/api/assignments/attempts/uuid-attempt-id/submit" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "answers": {
                    "question_1": "Un sistema de dise√±o sostenible",
                    "question_2": "La permacultura se basa en tres principios √©ticos fundamentales: 1) Cuidado de la Tierra..."
                    }
                    }'
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Inscripciones -->
    <section id="enrollment-endpoints" class="section">
        <h2>üìã Endpoints de Inscripciones</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/enrollments/courses/{courseId}/enroll</span>
                <span class="role-badge role-student">STUDENT</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Inscribe al estudiante autenticado en un curso espec√≠fico. Crea autom√°ticamente registro de progreso inicial.</p>

                <div class="auth-info">
                    <strong>üìù Requisitos:</strong>
                    <ul>
                        <li>Usuario debe tener rol de estudiante</li>
                        <li>El curso debe estar publicado</li>
                        <li>El estudiante no puede estar ya inscrito en el curso</li>
                    </ul>
                </div>

                <div class="curl-example">
                    <span class="comment"># Inscribirse en un curso</span>
                    curl -X POST "http://localhost:3010/api/enrollments/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/enroll" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{}'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Inscripci√≥n creada exitosamente",
                        "enrollment": {
                        "id": "205d4dc8-3da7-41df-a420-744694c60ed5",
                        "student_id": "b504d424-442b-4cf5-b727-685081f6f313",
                        "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "enrollment_date": "2025-08-26T00:49:00.000Z",
                        "status": "enrolled",
                        "progress_percentage": "0.00",
                        "course_title": "Curso de Agricultura Moderna",
                        "student_name": "Test Student"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/enrollments/courses/{courseId}/enrollments</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Lista todas las inscripciones de un curso espec√≠fico con informaci√≥n detallada de estudiantes.</p>

                <div class="params-section">
                    <h4>üîç Query Parameters</h4>
                    <div class="param">
                        <span class="param-name">status</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Filtrar por estado: 'enrolled', 'completed', 'cancelled', 'suspended'
                    </div>
                    <div class="param">
                        <span class="param-name">page</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>P√°gina de resultados (default: 1)
                    </div>
                    <div class="param">
                        <span class="param-name">limit</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Elementos por p√°gina (max: 100)
                    </div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/enrollments/bulk</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Inscripci√≥n masiva de m√∫ltiples estudiantes en un curso mediante lista de emails.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">course_id</span>
                        <span class="param-type">uuid</span>
                        <span class="param-required">required</span>
                        <br>ID del curso para inscripci√≥n masiva
                    </div>
                    <div class="param">
                        <span class="param-name">student_emails</span>
                        <span class="param-type">array</span>
                        <span class="param-required">required</span>
                        <br>Array de emails de estudiantes a inscribir
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Inscripci√≥n masiva de estudiantes</span>
                    curl -X POST "http://localhost:3010/api/enrollments/bulk" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                    "student_emails": [
                    "estudiante1@example.com",
                    "estudiante2@example.com",
                    "estudiante3@example.com"
                    ]
                    }'
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Progreso -->
    <section id="progress-endpoints" class="section">
        <h2>üìä Endpoints de Progreso y Dashboards</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/progress/dashboard/{studentId}</span>
                <span class="role-badge role-student">STUDENT</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Dashboard completo de progreso para un estudiante espec√≠fico con estad√≠sticas, cursos recientes y tareas pendientes.</p>

                <div class="auth-info">
                    <strong>üîê Permisos:</strong> Solo el propio estudiante o administradores pueden acceder a este dashboard.
                </div>

                <div class="curl-example">
                    <span class="comment"># Obtener dashboard del estudiante</span>
                    curl -X GET "http://localhost:3010/api/progress/dashboard/b504d424-442b-4cf5-b727-685081f6f313" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "dashboard": {
                        "stats": {
                        "total_courses": "1",
                        "completed_courses": "0",
                        "in_progress_courses": "1",
                        "not_started_courses": "0",
                        "certificates_earned": "0",
                        "total_study_time": "0",
                        "avg_completion": "100.00"
                        },
                        "recent_courses": [
                        {
                        "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "course_title": "Curso de Agricultura Moderna",
                        "progress_percentage": "100.00",
                        "enrollment_date": "2025-08-26T00:49:00.000Z",
                        "instructor_name": "Test Instructor",
                        "last_accessed_at": "2025-08-26T00:50:41.000Z"
                        }
                        ],
                        "upcoming_tasks": [
                        {
                        "id": "09672762-c46d-488e-99cc-6685b562f7c7",
                        "assignment_title": "Examen Final",
                        "course_title": "Curso de Agricultura Moderna",
                        "max_points": 100,
                        "attempts_used": "0",
                        "completed": false
                        }
                        ]
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/progress/instructor-dashboard/{instructorId}</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Dashboard especializado para instructores con estad√≠sticas de sus cursos, estudiantes activos y alumnos que necesitan atenci√≥n.</p>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "dashboard": {
                        "stats": {
                        "total_courses": "1",
                        "total_students": "1",
                        "students_completed": "0",
                        "avg_completion": "100.00",
                        "certificates_issued": "0"
                        },
                        "active_courses": [
                        {
                        "id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "Curso de Agricultura Moderna",
                        "enrolled_students": "1",
                        "avg_completion": "100.00",
                        "active_last_week": "1"
                        }
                        ],
                        "students_needing_attention": []
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/progress/{studentId}/{courseId}/update-time</span>
                <span class="role-badge role-student">STUDENT</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Actualiza el tiempo de estudio de un estudiante en un curso espec√≠fico para seguimiento de horas acad√©micas.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">minutes_studied</span>
                        <span class="param-type">number</span>
                        <span class="param-required">required</span>
                        <br>Minutos de estudio a a√±adir (min: 1, max: 600)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Actualizar tiempo de estudio</span>
                    curl -X POST "http://localhost:3010/api/progress/b504d424-442b-4cf5-b727-685081f6f313/6da30409-f5f3-4687-a737-05ba38ce6c80/update-time" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "minutes_studied": 45
                    }'
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Certificados -->
    <section id="certificate-endpoints" class="section">
        <h2>üèÜ Endpoints de Certificados</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/certificates/students/{studentId}/certificates</span>
                <span class="role-badge role-student">STUDENT</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Lista todos los certificados activos de un estudiante espec√≠fico con detalles completos del curso e instructor.</p>

                <div class="auth-info">
                    <strong>üîê Permisos:</strong> Solo el propio estudiante o administradores pueden ver estos certificados.
                </div>

                <div class="curl-example">
                    <span class="comment"># Obtener certificados del estudiante</span>
                    curl -X GET "http://localhost:3010/api/certificates/students/b504d424-442b-4cf5-b727-685081f6f313/certificates" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "certificates": [
                        {
                        "id": "uuid-cert-id",
                        "certificate_number": "CERT-A1B2C3D4",
                        "course_title": "Agricultura Sostenible Moderna",
                        "course_category": "agricultura",
                        "course_level": "Intermedio",
                        "course_duration": 40,
                        "instructor_name": "Dr. Mar√≠a L√≥pez",
                        "issued_at": "2025-08-26T00:00:00.000Z",
                        "final_grade": "92.50",
                        "status": "active"
                        }
                        ]
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/certificates/issue</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Emite un nuevo certificado para un estudiante que ha completado satisfactoriamente un curso.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">student_id</span>
                        <span class="param-type">uuid</span>
                        <span class="param-required">required</span>
                        <br>ID del estudiante que recibir√° el certificado
                    </div>
                    <div class="param">
                        <span class="param-name">course_id</span>
                        <span class="param-type">uuid</span>
                        <span class="param-required">required</span>
                        <br>ID del curso completado
                    </div>
                    <div class="param">
                        <span class="param-name">final_grade</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>Calificaci√≥n final obtenida (0-100, default: 85)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Emitir certificado para estudiante</span>
                    curl -X POST "http://localhost:3010/api/certificates/issue" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "student_id": "b504d424-442b-4cf5-b727-685081f6f313",
                    "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                    "final_grade": 95.5
                    }'
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/certificates/{certificateId}/verify</span>
                <span class="role-badge role-public">PUBLIC</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Verifica p√∫blicamente la autenticidad de un certificado mediante su n√∫mero √∫nico. Endpoint p√∫blico para validaci√≥n externa.</p>

                <div class="curl-example">
                    <span class="comment"># Verificar autenticidad de certificado</span>
                    curl -X GET "http://localhost:3010/api/certificates/CERT-A1B2C3D4/verify"
                </div>

                <div class="response-example">
                    <strong>Certificado v√°lido (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "valid": true,
                        "certificate": {
                        "certificate_number": "CERT-A1B2C3D4",
                        "student_name": "Juan P√©rez",
                        "course_title": "Agricultura Sostenible Moderna",
                        "course_level": "Intermedio",
                        "instructor_name": "Dr. Mar√≠a L√≥pez",
                        "issued_at": "2025-08-26T00:00:00.000Z",
                        "final_grade": "95.50",
                        "status": "active"
                        }
                        }</div>
                </div>

                <div class="response-example">
                    <strong>Certificado inv√°lido (404):</strong>
                    <div class="code-block">{
                        "success": false,
                        "valid": false,
                        "message": "Certificado no encontrado o revocado"
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/certificates/stats</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Estad√≠sticas completas del sistema de certificados para an√°lisis administrativo.</p>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "stats": {
                        "total_certificates": "25",
                        "active_certificates": "23",
                        "revoked_certificates": "2",
                        "issued_last_month": "8",
                        "courses_with_certificates": "12",
                        "unique_students": "18",
                        "average_grade": "87.50"
                        }
                        }</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Endpoints de Clases Virtuales -->
    <section id="virtual-class-endpoints" class="section">
        <h2>üíª Endpoints de Clases Virtuales</h2>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/virtual-classes/courses/{courseId}/virtual-classes</span>
                <span class="role-badge role-authenticated">AUTHENTICATED</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Lista todas las clases virtuales programadas para un curso espec√≠fico con informaci√≥n de asistencia.</p>

                <div class="params-section">
                    <h4>üîç Query Parameters</h4>
                    <div class="param">
                        <span class="param-name">upcoming</span>
                        <span class="param-type">boolean</span>
                        <span class="param-required">optional</span>
                        <br>Filtrar solo clases futuras (true) o todas (false/omitir)
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Obtener clases virtuales futuras de un curso</span>
                    curl -X GET "http://localhost:3010/api/virtual-classes/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/virtual-classes?upcoming=true" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (200):</strong>
                    <div class="code-block">{
                        "success": true,
                        "virtual_classes": [
                        {
                        "id": "6291735b-877a-4edf-98ee-8725f96224ab",
                        "title": "Webinar: T√©cnicas de Compostaje Avanzado",
                        "description": "Sesi√≥n pr√°ctica sobre m√©todos avanzados de compostaje",
                        "scheduled_at": "2025-08-27T15:00:00.000Z",
                        "duration_minutes": 60,
                        "meeting_url": "https://meet.google.com/abc-def-ghi",
                        "meeting_id": "abc-def-ghi",
                        "status": "scheduled",
                        "max_participants": 30,
                        "registered_attendees": "0",
                        "course_title": "Curso de Agricultura Moderna",
                        "instructor_name": "Test Instructor"
                        }
                        ]
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/virtual-classes/courses/{courseId}/virtual-classes</span>
                <span class="role-badge role-instructor">INSTRUCTOR</span>
                <span class="role-badge role-admin">ADMIN</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Crea una nueva clase virtual en un curso con soporte para m√∫ltiples plataformas de videoconferencia.</p>

                <div class="params-section">
                    <h4>üì• Body Parameters</h4>
                    <div class="param">
                        <span class="param-name">title</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>T√≠tulo descriptivo de la clase virtual
                    </div>
                    <div class="param">
                        <span class="param-name">description</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Descripci√≥n detallada del contenido y objetivos
                    </div>
                    <div class="param">
                        <span class="param-name">scheduled_at</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>Fecha y hora programada (ISO 8601, debe ser futura)
                    </div>
                    <div class="param">
                        <span class="param-name">duration_minutes</span>
                        <span class="param-type">number</span>
                        <span class="param-required">required</span>
                        <br>Duraci√≥n estimada en minutos
                    </div>
                    <div class="param">
                        <span class="param-name">meeting_url</span>
                        <span class="param-type">string</span>
                        <span class="param-required">required</span>
                        <br>URL completa de la reuni√≥n virtual
                    </div>
                    <div class="param">
                        <span class="param-name">meeting_id</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>ID espec√≠fico de la reuni√≥n (Zoom, Teams, etc.)
                    </div>
                    <div class="param">
                        <span class="param-name">meeting_password</span>
                        <span class="param-type">string</span>
                        <span class="param-required">optional</span>
                        <br>Contrase√±a de acceso a la reuni√≥n
                    </div>
                    <div class="param">
                        <span class="param-name">max_participants</span>
                        <span class="param-type">number</span>
                        <span class="param-required">optional</span>
                        <br>L√≠mite m√°ximo de participantes
                    </div>
                </div>

                <div class="curl-example">
                    <span class="comment"># Crear nueva clase virtual</span>
                    curl -X POST "http://localhost:3010/api/virtual-classes/courses/6da30409-f5f3-4687-a737-05ba38ce6c80/virtual-classes" \
                    -H "Content-Type: application/json" \
                    -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
                    -d '{
                    "title": "Webinar: T√©cnicas de Compostaje Avanzado",
                    "description": "Sesi√≥n pr√°ctica sobre diferentes m√©todos de compostaje y su aplicaci√≥n en agricultura sostenible",
                    "scheduled_at": "2025-08-30T15:00:00Z",
                    "duration_minutes": 120,
                    "meeting_url": "https://meet.google.com/abc-def-ghi",
                    "meeting_id": "abc-def-ghi",
                    "meeting_password": "compost123",
                    "max_participants": 50
                    }'
                </div>

                <div class="response-example">
                    <strong>Respuesta exitosa (201):</strong>
                    <div class="code-block">{
                        "success": true,
                        "message": "Clase virtual creada exitosamente",
                        "virtual_class": {
                        "id": "6291735b-877a-4edf-98ee-8725f96224ab",
                        "course_id": "6da30409-f5f3-4687-a737-05ba38ce6c80",
                        "title": "Webinar: T√©cnicas de Compostaje Avanzado",
                        "description": "Sesi√≥n pr√°ctica sobre diferentes m√©todos de compostaje",
                        "scheduled_at": "2025-08-30T15:00:00.000Z",
                        "duration_minutes": 120,
                        "meeting_url": "https://meet.google.com/abc-def-ghi",
                        "meeting_id": "abc-def-ghi",
                        "status": "scheduled",
                        "max_participants": 50,
                        "created_at": "2025-08-26T01:00:00.000Z"
                        }
                        }</div>
                </div>
            </div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/virtual-classes/{id}/register</span>
                <span class="role-badge role-student">STUDENT</span>
            </div>
            <div class="endpoint-body">
                <p class="endpoint-description">Registra a un estudiante para participar en una clase virtual espec√≠fica.</p>

                <div class="auth-info">
                    <strong>üìù Requisitos:</strong>
                    <ul>
                        <li>Usuario debe estar inscrito en el curso</li>
                        <li>La clase virtual debe estar programada (scheduled)</li>
                        <li>No debe exceder el l√≠mite m√°ximo de participantes</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- C√≥digos de Error -->
    <section id="error-codes" class="section">
        <h2>‚ö†Ô∏è C√≥digos de Error y Manejo</h2>

        <div class="error-codes">
            <h5>üîê Errores de Autenticaci√≥n (400-403)</h5>
            <ul>
                <li><strong>400 Bad Request:</strong> Datos de entrada inv√°lidos, malformados o faltantes</li>
                <li><strong>401 Unauthorized:</strong> Token JWT faltante, inv√°lido, expirado o usuario inactivo</li>
                <li><strong>403 Forbidden:</strong> Usuario autenticado pero sin permisos suficientes para la operaci√≥n</li>
            </ul>
        </div>

        <div class="error-codes">
            <h5>üîç Errores de Recursos (404-409)</h5>
            <ul>
                <li><strong>404 Not Found:</strong> Recurso solicitado no existe o no est√° disponible</li>
                <li><strong>409 Conflict:</strong> Conflicto con el estado actual (ej: usuario ya inscrito)</li>
            </ul>
        </div>

        <div class="error-codes">
            <h5>üìù Errores de Validaci√≥n (400, 422)</h5>
            <ul>
                <li><strong>400 Bad Request:</strong> Error general de validaci√≥n de datos</li>
                <li><strong>422 Unprocessable Entity:</strong> Errores de validaci√≥n espec√≠ficos con detalles</li>
                <li>Incluye informaci√≥n detallada sobre campos que fallaron la validaci√≥n</li>
            </ul>
        </div>

        <div class="error-codes">
            <h5>üîß Errores del Servidor (500+)</h5>
            <ul>
                <li><strong>500 Internal Server Error:</strong> Error interno del servidor o base de datos</li>
                <li><strong>503 Service Unavailable:</strong> Servicio temporalmente no disponible</li>
            </ul>
        </div>

        <h3>üìã Formato Est√°ndar de Respuestas de Error</h3>
        <div class="code-block">{
            "error": "Mensaje descriptivo del error",
            "code": "ERROR_CODE",           // C√≥digo espec√≠fico (opcional)
            "details": [...],               // Detalles adicionales (desarrollo)
            "required_roles": [...],        // Para errores de permisos
            "user_role": "current_role"     // Para errores de permisos
            }</div>

        <h3>üîç Ejemplos Detallados de Respuestas de Error</h3>

        <div class="response-example">
            <strong>Error de Validaci√≥n M√∫ltiple (400):</strong>
            <div class="code-block">{
                "error": "Datos inv√°lidos",
                "details": [
                {
                "type": "field",
                "msg": "Email debe ser una direcci√≥n v√°lida",
                "path": "email",
                "location": "body"
                },
                {
                "type": "field",
                "msg": "Contrase√±a debe tener al menos 6 caracteres",
                "path": "password",
                "location": "body"
                },
                {
                "type": "field",
                "msg": "El nivel de dificultad debe ser: B√°sico, Intermedio o Avanzado",
                "path": "difficulty_level",
                "location": "body"
                }
                ]
                }</div>
        </div>

        <div class="response-example">
            <strong>Error de Permisos Detallado (403):</strong>
            <div class="code-block">{
                "error": "Permisos insuficientes",
                "code": "INSUFFICIENT_PERMISSIONS",
                "required_roles": ["instructor", "admin"],
                "user_role": "student"
                }</div>
        </div>

        <div class="response-example">
            <strong>Error de Token Expirado (401):</strong>
            <div class="code-block">{
                "error": "Token inv√°lido"
                }</div>
        </div>

        <div class="response-example">
            <strong>Error de Recurso No Encontrado (404):</strong>
            <div class="code-block">{
                "error": "Curso no encontrado"
                }</div>
        </div>

        <div class="response-example">
            <strong>Error de Base de Datos (500):</strong>
            <div class="code-block">{
                "error": "Error interno del servidor",
                "details": "Database connection failed"  // Solo en desarrollo
                }</div>
        </div>

        <h3>üõ†Ô∏è Gu√≠a de Resoluci√≥n de Problemas</h3>
        <div class="error-codes">
            <h5>Para Desarrolladores Frontend:</h5>
            <ul>
                <li><strong>401 Errors:</strong> Renovar token JWT o redirigir a login</li>
                <li><strong>403 Errors:</strong> Ocultar/deshabilitar funciones seg√∫n rol del usuario</li>
                <li><strong>400/422 Errors:</strong> Mostrar mensajes de validaci√≥n en formularios</li>
                <li><strong>404 Errors:</strong> Mostrar p√°gina/mensaje de "no encontrado"</li>
                <li><strong>500 Errors:</strong> Mostrar mensaje gen√©rico y reportar error</li>
            </ul>
        </div>
    </section>

    <!-- Footer con informaci√≥n adicional -->
    <section class="section">
        <h2>üìö Recursos Adicionales</h2>

        <h3>üîó Enlaces √ötiles</h3>
        <ul>
            <li><strong>Health Check:</strong> <code>GET /health</code></li>
            <li><strong>Database Test:</strong> <code>GET /test-db</code></li>
            <li><strong>API Test:</strong> <code>GET /api/test</code></li>
        </ul>

        <h3>üìä Estado del Proyecto</h3>
        <div class="status-info">
            <strong>‚úÖ Estado Actual:</strong> API completamente funcional y testeada
            <br><strong>üîß √öltima Actualizaci√≥n:</strong> 2025-08-26
            <br><strong>üìù Versi√≥n:</strong> 1.0.0
            <br><strong>üß™ Testing:</strong> Todos los endpoints principales testados por rol
        </div>

        <h3>üîÑ Pr√≥ximas Mejoras</h3>
        <ul>
            <li>Implementaci√≥n de templates de certificados</li>
            <li>Sistema de notificaciones push</li>
            <li>API de reportes avanzados</li>
            <li>Integraci√≥n con sistemas de pago</li>
            <li>Soporte para m√∫ltiples idiomas</li>
        </ul>

        <div style="text-align: center; margin-top: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 10px;">
            <strong>üåæ AgriCourses API Documentation</strong><br>
            Generado autom√°ticamente - √öltima actualizaci√≥n: 2025-08-26<br>
            <em>Para soporte t√©cnico, contactar al equipo de desarrollo</em>
        </div>
    </section>
</div>

<script>
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Highlight active section in navigation
    const observerOptions = {
        root: null,
        rootMargin: '-20% 0px -80% 0px',
        threshold: 0
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.id;
                document.querySelectorAll('.nav a').forEach(link => {
                    link.classList.remove('active');
                });
                document.querySelectorAll(`.nav a[href="#${id}"]`).forEach(link => {
                    link.classList.add('active');
                });
            }
        });
    }, observerOptions);

    document.querySelectorAll('section[id]').forEach(section => {
        observer.observe(section);
    });

    // Copy code functionality
    document.querySelectorAll('.code-block, .curl-example').forEach(block => {
        block.addEventListener('click', function() {
            navigator.clipboard.writeText(this.textContent.trim()).then(() => {
                // Visual feedback
                const originalBg = this.style.backgroundColor;
                this.style.backgroundColor = '#d4edda';
                setTimeout(() => {
                    this.style.backgroundColor = originalBg;
                }, 200);
            });
        });

        // Add copy indicator
        block.style.cursor = 'pointer';
        block.title = 'Click para copiar';
    });

    // Expand/collapse functionality for long code blocks
    document.querySelectorAll('.response-example .code-block').forEach(block => {
        if (block.scrollHeight > 200) {
            block.style.maxHeight = '200px';
            block.style.overflow = 'hidden';

            const expandBtn = document.createElement('button');
            expandBtn.textContent = '‚ñº Ver m√°s';
            expandBtn.style.cssText = `
                    background: #2E8B57;
                    color: white;
                    border: none;
                    padding: 0.5rem 1rem;
                    border-radius: 5px;
                    margin-top: 0.5rem;
                    cursor: pointer;
                    font-size: 0.8rem;
                `;

            expandBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                if (block.style.maxHeight === '200px') {
                    block.style.maxHeight = 'none';
                    this.textContent = '‚ñ≤ Ver menos';
                } else {
                    block.style.maxHeight = '200px';
                    this.textContent = '‚ñº Ver m√°s';
                }
            });

            block.parentNode.appendChild(expandBtn);
        }
    });

    // Search functionality
    const searchInput = document.createElement('input');
    searchInput.type = 'text';
    searchInput.placeholder = 'üîç Buscar endpoint...';
    searchInput.style.cssText = `
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 1rem;
            font-size: 1rem;
        `;

    const nav = document.querySelector('.nav');
    nav.insertBefore(searchInput, nav.querySelector('ul'));

    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const endpoints = document.querySelectorAll('.endpoint');

        endpoints.forEach(endpoint => {
            const text = endpoint.textContent.toLowerCase();
            const isVisible = text.includes(searchTerm);
            endpoint.style.display = isVisible ? 'block' : 'none';
        });

        // Also filter navigation links
        const navLinks = document.querySelectorAll('.nav ul li');
        navLinks.forEach(link => {
            const text = link.textContent.toLowerCase();
            const isVisible = text.includes(searchTerm) || searchTerm === '';
            link.style.display = isVisible ? 'block' : 'none';
        });
    });

    // Add endpoint counter
    const totalEndpoints = document.querySelectorAll('.endpoint').length;
    const counterElement = document.createElement('div');
    counterElement.innerHTML = `<small>üìä Total de endpoints: ${totalEndpoints}</small>`;
    counterElement.style.cssText = 'text-align: center; color: #666; margin-top: 1rem;';
    document.querySelector('.nav').appendChild(counterElement);
</script>
</body>
</html>